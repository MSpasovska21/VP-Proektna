[# **Connect 4**](https://www.youtube.com/watch?v=utXzIFEVPjA)
---

##Историја
---
Оваа игра е стара со векови. Капетанот Џејмс Кук ја играл со неговите колеги официри за време на неговите долги патувања, па затоа била наречена и „Captain's Mistress“. 
Milton Bradley (сега во сопственост на Hasbro) објавиле верзија на оваа игра во 1974 година под името „Connect 4“.
Други имиња под кои може да се најде играва се „Four-in-a-Row“ и „Plot Four“.

##Како се игра?
---
Правилата се едноставни. Обидете се да изградите линија (хоризонтална, вертикална, дијагонална) од четири плочки во иста боја додека го спречувате вашиот противник да го направи 
истото. Звучи лесно, но не е! Вертикалната стратегија создава единствен предизвик: мора да размислувате на сосема поинаков начин за да ги блокирате потезите на противникот!

##Упатство за користење
---
![alt text](https://github.com/MSpasovska21/VP-Proektna/blob/master/images/naslovna.png "Почетна страна")

Почетната страна се состои од 3 копчиња и дел за авторски права.
- Копчето **Play** отвара нова форма за пополнување на податоци за играчите.
- Копчето **How to play** отвара форма со испишани правила за играње на играта.
- Копчето **Exit** ја исклучува апликацијата.
- Лабелата **© 2020 FCSE** ги испишува авторските права.

![alt text](https://github.com/MSpasovska21/VP-Proektna/blob/master/images/howToPlay.png "Правила на играта")
![alt text](https://github.com/MSpasovska21/VP-Proektna/blob/master/images/copyright.png "Авторски права")

Формата **Play** се состои од внес на имиња за двата играчи, број на колку рунди сакате да играте и времетраење на една рунда изразена во секунди. Исто така, на дното има две 
копчиња со соодветни настани.
- Копчето **Back** ве враќа назад на почетната страна.
- Копчето **Start** ве води до играта.

![alt text](https://github.com/MSpasovska21/VP-Proektna/blob/master/images/options.png "Опции")

При обид на не внесување на соодветните податоци, формата ви сигнализира на тоа кои информации не се внесени.

Формата **Game** се состои од претходно внесените имињата на двата играчи, како и соодветен тајмер до секој од нив кој е сетиран на времето кое е изберено на претход-
ната форма. Се прикажува и дел со бројот на рунди колку ќе се играат. Под тоа, се наоѓаат и имињата на двата играча со бројот на победени рунди до нив, како и поле со 
број на нерешени игри кои се одиграни. Доколку некој од играчите успее да ги победи сите рунди од првата половина (пр. 3 од 5) тогаш тој веднаш се прогласува за победник и 
играта завршува. Можни исходи од играта се „Играчот 1 победи“, „Играчот 2 победи“ и „Нерешено“. По завршувањето на играта се отвара нов прозорец кој ве прашува дали сакате
да играте повторно или не. Доколку се одлучите за уште една игра тајмерите и резултатот се рестираат и новата игра започнува. Во спротивно апликацијата се гаси.

![alt text](https://github.com/MSpasovska21/VP-Proektna/blob/master/images/game.png "Игра")

##Имплементација 
---
Функцијата ```isWinning()``` во ```Form1```
```
public bool isWinning(int col, int pturn)
        {
            //horizontally
            int win = 0;
            for (int i = 0; i < 7; i++)
            {
                if (board[allowedincolumn[col], i] == pturn)
                {
                    win++;
                    if (win == 4)
                        return true;
                }
                else
                    win = 0;

            }
            //vertically
            win = 0;
            for (int i = 0; i < 6; i++)
            {
                if (board[i, col] == pturn)
                {
                    win++;
                    if (win == 4)
                        return true;
                }
                else
                    win = 0;
            }
            //diagonally (left-right)
            win = 0;
            int razlika = allowedincolumn[col] - col;
            for (int i = 0; i < 6; i++)
                for (int j = 0; j < 7; j++)
                    if (i - j == razlika)
                    {
                        if (board[i, j] == pturn)
                        {
                            win++;
                            if (win == 4)
                                return true;
                        }
                        else
                            win = 0;
                    }
            //diagonally (right-left)
            win = 0;
            int zbir = allowedincolumn[col] + col;
            for (int i = 0; i < 6; i++)
                for (int j = 0; j < 7; j++)
                    if (i + j == zbir)
                    {
                        if (board[i, j] == pturn)
                        {
                            win++;
                            if (win == 4)
                                return true;
                        }
                        else
                            win = 0;
                    }
            return false;
        }
```
Знаеме дека целта во играта е да има поврзано 4 кругови хоризонтално, вертикално или дијагонално.
Оваа функција токму тоа го проверува и враќа ```true```  ако одреден играч е во победничка позиција и ```false``` во спротивно.
Функцијата се извршува при секој потег на било кој играч.
Исто така матрицата ```board```  е составена од броеви 0 1 2 соодвено за празно поле, поле освоено од играч1 и поле освоано од играч2.
За хоризонтална проверка за победничка позиција, со циклус(кој за фиксиран број на редица, ги менува колоните) се изминува една редица во која е зачуван последниот потег на играчот и се проверува дали последователно има освоени 4 полиња од одреден играч(pturn означува 0 1 или 2).
За вертикална проверка за победничка позиција, со циклус(кој за фиксиран број на колони, ги менува редиците) се изминува една колона во која е зачуван последниот потег на играчот и се проверува дали последователно има освоени 4 полиња од одреден играч.
За дијагонална проверка(од лево кон десно) за победничка позиција, најпрвин се зема разликата од бројот на редица и бројот на колоната на последниот потег. Потоа со 2 фор циклуси се проверува одредената дијагонала на елементи од матрицата ```board``` (чија разлика од индекси е гореспоменатата разлика) и се проверува дали има освоено играчот 4 последователни полиња.
За дијагонална проверка(од десно кон лево) за победничка позиција, најпрвин се зема збирот од бројот на редица и колона на последниот потег. Потоа со 2 фор циклуса се проверува одредената дијагонала на елементи од матрицата ```borad```(чија разлика од индекси е гореспоменатион збир) и се проверува дали играчот има оснвоено 4 последователни полиња.






---
Апликацијата Connect 4 е изработена од Моника Спасовска и Владимир Савиќ под менторство на д-р Ѓорѓи Маџаров и м-р Александар Стојменски. Проектот е дел од предметот [Визуелно 
програмирање](https://www.finki.ukim.mk/mk/subject/%D0%B2%D0%B8%D0%B7%D1%83%D0%B5%D0%BB%D0%BD%D0%BE-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%B8%D1%80%D0%B0%D1%9A%D0%B5-0) на [Факултетот за Информатички Науки и Компјутерско Инженерство](https://www.finki.ukim.mk/) во академска година 2019/2020. 
